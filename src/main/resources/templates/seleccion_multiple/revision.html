<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/layout :: head('Revision seleccion multiple')"></head>

<body class="min-h-screen bg-slate-50 text-slate-900 antialiased font-sans">
  <div class="relative min-h-screen overflow-hidden bg-sky-50">
    <div class="relative z-10 flex min-h-screen flex-col">
      <header th:replace="fragments/layout :: header"></header>

      <main class="flex-1 py-12 md:py-16">
        <div class="mx-auto w-full max-w-6xl px-5 sm:px-6 lg:px-10">
          <div class="mb-8 flex flex-wrap items-center justify-between gap-4">
            <div>
              <h1 class="text-2xl font-semibold tracking-tight text-slate-900 md:text-3xl">Revision de respuestas</h1>
              <p class="mt-3 text-sm text-slate-700 md:text-base">
                Aciertos: <span th:text="${correctCount}">0</span> |
                Fallos: <span th:text="${incorrectCount}">0</span> |
                Total: <span th:text="${total}">0</span>
              </p>
            </div>
            <div class="flex flex-wrap gap-2">
              <a class="
                  inline-flex items-center justify-center gap-2
                  rounded-full border border-sky-400/40
                  bg-white/80 px-5 py-2.5
                  text-sm font-semibold text-slate-900
                  shadow-lg shadow-sky-500/10
                  transition
                  hover:border-sky-300/70 hover:bg-white/90 hover:text-slate-900
                  focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-300/70
                  focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950
                " th:href="@{/mc/secuencia}" href="/mc/secuencia">
                Volver a secuencia
              </a>
              <a class="
                  inline-flex items-center justify-center gap-2
                  rounded-full px-4 py-2
                  text-sm font-semibold text-slate-700
                  transition
                  hover:bg-sky-50 hover:text-slate-900
                  focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-300/50
                  focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950
                " th:href="@{/#inicio}" href="/#inicio">
                Inicio
              </a>
            </div>
          </div>

          <div class="rounded-3xl border border-slate-200/80 bg-white/80 p-6 shadow-2xl shadow-slate-200/80">
            <div class="overflow-x-auto">
              <table class="w-full overflow-hidden rounded-2xl border border-slate-200/80 bg-white/85 text-sm">
                <thead class="bg-sky-500/15 text-sky-900">
                  <tr>
                    <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.18em]">#</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.18em]">Pregunta</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.18em]">Tu respuesta</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.18em]">Correctas</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold uppercase tracking-[0.18em]">Resultado</th>
                  </tr>
                </thead>
                <tbody>
                  <tr th:each="item, iter : ${items}" class="border-t border-slate-200/80 transition hover:bg-sky-50">
                    <td class="px-4 py-3 text-slate-800" th:text="${iter.index + 1}">1</td>
                    <td class="px-4 py-3 text-slate-800 whitespace-pre-wrap"
                      th:text="${item.question != null ? item.question.statement : 'Pregunta no disponible'}">Texto</td>
                    <td class="px-4 py-3">
                      <span class="inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold"
                        th:classappend="${item.userAnswers != null && !item.userAnswers.isEmpty()} ? ' border-sky-400/30 bg-sky-500/10 text-sky-700' : ' border-yellow-400/40 bg-yellow-200/70 text-yellow-800'">
                        <span th:text="${item.userAnswerDisplay}">1, 2</span>
                      </span>
                    </td>
                    <td class="px-4 py-3">
                      <span class="
                          inline-flex items-center rounded-full
                          border border-slate-200/80
                          bg-sky-50 px-3 py-1
                          text-xs font-semibold text-slate-700
                        " th:if="${item.question != null}">
                        <span th:text="${item.correctAnswerDisplay}">1, 3</span>
                      </span>
                    </td>
                    <td class="px-4 py-3">
                      <span class="inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold"
                        th:classappend="${item.correct} ? ' border-sky-400/30 bg-sky-500/10 text-sky-700' : ' border-yellow-400/40 bg-yellow-200/70 text-yellow-800'">
                        <span th:text="${item.correct ? 'Correcto' : 'Incorrecto'}">Correcto</span>
                      </span>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>

      <footer th:replace="fragments/layout :: footer"></footer>
    </div>
  </div>
</body>

</html>